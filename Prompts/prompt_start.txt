Produce a closed-form analytical solution for the inverse kinematics of the following chain by completing the Python function. Positions and orientations are local coordinates relative to their parent. For instance, "Joint 1" is parented under "Base", and if there is a "Joint 2", it is parented under "Joint 1". "End Effector" is parented under the last joint.